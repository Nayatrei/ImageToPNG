<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tinkercad SVG Creator - 3D Print Ready</title>
  <link rel="stylesheet" href="style.css"/>
  <script src="imagetracer_v1.2.6.js"></script>
  <script src="converter.js"></script>
</head>
<body>
  <h1 style="position:relative;">Tinkercad SVG Creator - 3D Print Ready
    <span class="donate-top-right">
      <a href="https://buymeacoffee.com/genesisframeworks" target="_blank" id="donate-link">‚òï Buy me a coffee</a>
    </span>
  </h1>

  <div class="content-wrapper">
    <div class="quick-start-column">
      <h3>üöÄ Quick Start for 3D Printing & Tinkercad</h3>
      <div class="guide-steps">
        <div class="step">
          <span class="step-number">1</span>
          <div class="step-content">
            <strong>Import your image</strong><br>
            <small>Simple logos and graphics work best (Batman, Superman logos are perfect!)</small>
          </div>
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <div class="step-content">
            <strong>Select "3D Print" preset</strong><br>
            <small>Pre-optimized for clean Tinkercad extrusion</small>
          </div>
        </div>
        <div class="step">
          <span class="step-number">3</span>
          <div class="step-content">
            <strong>Adjust "Simplification Level"</strong><br>
            <small>Higher = cleaner shapes for 3D printing</small>
          </div>
        </div>
        <div class="step">
          <span class="step-number">4</span>
          <div class="step-content">
            <strong>Download optimized layers</strong><br>
            <small>Each color = separate 3D print layer</small>
          </div>
        </div>
        <div class="step">
          <span class="step-number">5</span>
          <div class="step-content">
            <strong>Import to Tinkercad</strong><br>
            <small>Click "Import", upload SVG, set "Style" to "Silhouette", adjust size/height & extrude</small>
          </div>
        </div>
        <div class="step">
          <span class="step-number">6</span>
          <div class="step-content">
            <strong>Add More Layers</strong><br>
            <small>Import additional SVGs, group & adjust heights, align for multi-color</small>
          </div>
        </div>
        <div class="step">
          <span class="step-number">7</span>
          <div class="step-content">
            <strong>Export as OBJ</strong><br>
            <small>Select all shapes, export OBJ to preserve colors, download file</small>
          </div>
        </div>
        <div class="step">
          <span class="step-number">8</span>
          <div class="step-content">
            <strong>Import to Slicer & Assign Colors</strong><br>
            <small>Open slicer (e.g., Bambu Studio), import OBJ, paint/refine colors for printing</small>
          </div>
        </div>
      </div>
    </div>

    <div class="main-content-column">
      <div class="image-section content-box" style="margin-bottom: 20px;">
        <h2>Original Image</h2>
        <div class="image-container">
          <img id="source-image" alt="Original Image" style="display:none;">
        </div>

        <label id="import-btn" for="file-input" class="btn-as-button">Import Image</label>
        <input type="file" id="file-input" accept="image/*,image/svg+xml" style="display:none;">

        <!-- Online image loader -->
        <div class="online-loader" style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap; align-items:center;">
          <input type="text" id="url-input" placeholder="Paste image URL here (try a Batman logo!)" style="flex:1; padding:8px; border:1px solid #ccc; border-radius:4px; min-width:200px;">
          <button id="load-url-btn">Load URL</button>
        </div>

        <div id="status-container">
          <div id="status-text">Ready for 3D printing magic! ‚ú®</div>
        </div>

        <div id="original-resolution" class="resolution-info" style="margin-top:8px; font-size:14px; color:#555;"></div>
      </div>

      <div class="controls-section content-box" style="margin-bottom: 20px;">
        <h2>3D Print Optimization</h2>

        <table class="options-table">
          <tr>
            <td><label for="preset">Conversion Style
              <span class="tooltip" title="Choose your conversion approach:\n\nüìê 3D Print (Tinkercad Ready): Best for clean 3D printing\nüåä Smooth Curves: Artistic, flowing shapes\n‚ö° Sharp Details: Preserves crisp edges\nüé≠ High Contrast: Bold silhouettes\nüé® Multi-Color: Detailed color preservation\nüéØ Simple Colors: 4-color poster style">?</span>
            </label></td>
            <td>
              <select id="preset">
                <option value="3dprint" selected>üìê 3D Print (Tinkercad Ready)</option>
                <option value="curvy">üåä Smooth Curves</option>
                <option value="sharp">‚ö° Sharp Details</option>
                <option value="default">‚öôÔ∏è Standard (ImageTracer Default)</option>
              </select>
            </td>
          </tr>
          <tr>
            <td><label for="path-simplification">Path Simplification
              <span class="tooltip" title="Removes tiny fragments and simplifies coordinates for Tinkercad. Lower keeps detail, higher removes noise.">?</span>
            </label></td>
            <td>
              <input type="range" id="path-simplification" min="0" max="100" value="40" step="1">
              <span id="path-simplification-value" class="slider-value">40%</span>
              <small style="margin-left:8px;color:#007bff;">üí° Higher = fewer tiny pieces</small>
            </td>
          </tr>

          <tr>
            <td><label for="corner-sharpness">Corner Sharpness
              <span class="tooltip" title="Controls how sharply corners are preserved. Higher = sharper corners.">?</span>
            </label></td>
            <td>
              <input type="range" id="corner-sharpness" min="0" max="100" value="60" step="1">
              <span id="corner-sharpness-value" class="slider-value">60%</span>
              <small style="margin-left:8px;color:#007bff;">üí° Higher = crisper corners</small>
            </td>
          </tr>

          <tr>
            <td><label for="curve-straightness">Curve Straightness
              <span class="tooltip" title="Controls how straight long curves become. Higher = straighter lines.">?</span>
            </label></td>
            <td>
              <input type="range" id="curve-straightness" min="0" max="100" value="40" step="1">
              <span id="curve-straightness-value" class="slider-value">40%</span>
              <small style="margin-left:8px;color:#007bff;">üí° Higher = straighter outlines</small>
            </td>
          </tr>

          <tr>
            <td><label for="color-precision">Color Precision
              <span class="tooltip" title="Uses ImageTracer quantization options (sampling, cycles, ratio) to separate layers deterministically. Higher = more precise color separation.">?</span>
            </label></td>
            <td>
              <input type="range" id="color-precision" min="0" max="100" value="50" step="1">
              <span id="color-precision-value" class="slider-value">50%</span>
              <small id="color-feedback" style="margin-left:8px;color:#28a745;">üéØ Balanced for most images</small>
            </td>
          </tr>


          

          

          <tr>
            <td><label for="remove-bg">Remove Background
              <span class="tooltip" title="Automatically detect and remove the background color. Perfect for logos on white/colored backgrounds.">?</span>
            </label></td>
            <td><input type="checkbox" id="remove-bg"></td>
          </tr>

          <tr id="palette-row" style="display:none;">
            <td><label>Layer Selection
              <span class="tooltip" title="Choose which colors/layers to include in your final SVG. Uncheck layers you don't want to 3D print.">?</span>
            </label></td>
            <td id="palette-container"></td>
          </tr>

          <!-- Advanced controls (hidden by default) -->
          <tr id="advanced-toggle-row" style="display:none;">
            <td colspan="2">
              <details>
                <summary style="cursor:pointer;font-weight:bold;color:#007bff;">üîß Advanced Settings (For Experts)</summary>
                <div class="advanced-settings" style="margin-top:10px;">
                  <div class="adv-row">
                    <label for="ltres-slider">Curve Precision</label>
                    <input type="range" id="ltres-slider" min="0.1" max="10" value="1" step="0.1">
                    <span id="ltres-value" class="slider-value">1.0</span>
                  </div>
                  <div class="adv-row">
                    <label for="pathomit-slider">Minimum Shape Size</label>
                    <input type="range" id="pathomit-slider" min="0" max="30" value="8" step="1">
                    <span id="pathomit-value" class="slider-value">8</span>
                  </div>
                  <div class="adv-row">
                    <label for="blur-radius">Pre-smoothing</label>
                    <input type="range" id="blur-radius" min="0" max="3" value="0" step="0.1">
                    <span id="blur-radius-value" class="slider-value">0.0</span>
                  </div>
                </div>
              </details>
            </td>
          </tr>
        </table>
      </div>

      <div class="generation-section content-box">
        <button id="generate-btn" class="generate-button" disabled>
          ‚ö° Generate 3D-Ready Preview
        </button>
      </div>

      <div class="preview-grid">
        <div class="preview-column">
          <h2>üìê 3D Print Preview</h2>
          <div class="image-container preview-container">
            <object id="svg-preview" type="image/svg+xml"></object>
          </div>
          <div id="quality-indicator" class="quality-indicator"></div>
        </div>

        <div class="preview-column">
          <h2>üéØ Selected Layers Only</h2>
          <div class="image-container preview-container">
            <object id="svg-preview-filtered" type="image/svg+xml"></object>
          </div>
        </div>
      </div>

      <div id="scaled-resolution" class="resolution-info" style="margin-top:8px; font-size:14px; color:#555; text-align:center;"></div>

      <div class="download-section">
        <!-- Main 3D print downloads -->
        <div class="download-row primary-downloads">
          <button id="download-tinkercad-btn" disabled class="tinkercad-btn">
            üèÜ Download for Tinkercad (Auto-Optimized)
          </button>
          <!-- Download All Layers button removed -->
        </div>

        <!-- Secondary downloads -->
        <div class="download-row secondary-downloads">
          <button id="download-silhouette-btn" disabled>üé≠ Silhouette (Backgroud)</button>
          <!-- Complete SVG button removed -->
        </div>

        <!-- Dynamic color layer buttons -->
        <div id="color-buttons-row" class="color-buttons-row"></div>
      </div>
    </div>
  </div>


</body>
</html>